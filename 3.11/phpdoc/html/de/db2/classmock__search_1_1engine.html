<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.3"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Moodle PHP Documentation: mock_search\engine Class Reference</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<link href="../../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../search/search.js"></script>
<link rel="search" href="../../search_opensearch.php?v=opensearch.xml" type="application/opensearchdescription+xml" title="Moodle PHP Documentation"/>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">Moodle PHP Documentation<span id="projectnumber">&#160;3.11</span>
   </div>
   <div id="projectbrief">Moodle 3.11.6+ (Build: 20220322) (25f22a3cb7)</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.3 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "../../search",'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="../../menudata.js"></script>
<script type="text/javascript" src="../../menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('../../',true,true,'search.php','Search');
  $(document).ready(function() {
    if ($('.searchresults').length > 0) { searchBox.DOMSearchField().focus(); }
  });
});
/* @license-end */
</script>
<div id="main-nav"></div>
<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="../../db/dc4/namespacemock__search.html">mock_search</a></li><li class="navelem"><a class="el" href="../../de/db2/classmock__search_1_1engine.html">engine</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pub-static-methods">Static Public Member Functions</a> &#124;
<a href="#pro-methods">Protected Member Functions</a> &#124;
<a href="#pro-attribs">Protected Attributes</a> &#124;
<a href="#pro-static-attribs">Static Protected Attributes</a> &#124;
<a href="../../d0/d31/classmock__search_1_1engine-members.html">List of all members</a>  </div>
  <div class="headertitle"><div class="title">mock_search\engine Class Reference<div class="ingroups"><a class="el" href="../../dc/da9/group__core__search.html">core_search</a></div></div></div>
</div><!--header-->
<div class="contents">
<div class="dynheader">
Inheritance diagram for mock_search\engine:</div>
<div class="dyncontent">
 <div class="center">
  <img src="../../de/db2/classmock__search_1_1engine.png" usemap="#mock_5Fsearch_5Cengine_map" alt=""/>
  <map id="mock_5Fsearch_5Cengine_map" name="mock_5Fsearch_5Cengine_map">
<area href="../../d0/d66/classcore__search_1_1engine.html" title="Base class for search engines." alt="core_search\engine" shape="rect" coords="0,0,129,24"/>
  </map>
</div></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-methods" name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a688d3c4fa699c45074add7514ad0e157"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/db2/classmock__search_1_1engine.html#a688d3c4fa699c45074add7514ad0e157">add_document</a> ($document, $fileindexing=false)</td></tr>
<tr class="memdesc:a688d3c4fa699c45074add7514ad0e157"><td class="mdescLeft">&#160;</td><td class="mdescRight">Adds a document to the search engine.  <a href="../../de/db2/classmock__search_1_1engine.html#a688d3c4fa699c45074add7514ad0e157">More...</a><br /></td></tr>
<tr class="separator:a688d3c4fa699c45074add7514ad0e157"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a78f0c030c34167bb2dc43aa4ffdf6a6d"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d0/d66/classcore__search_1_1engine.html#a78f0c030c34167bb2dc43aa4ffdf6a6d">add_document_batch</a> (array $documents, bool $fileindexing=false)</td></tr>
<tr class="memdesc:a78f0c030c34167bb2dc43aa4ffdf6a6d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Adds multiple documents to the search engine.  <a href="../../d0/d66/classcore__search_1_1engine.html#a78f0c030c34167bb2dc43aa4ffdf6a6d">More...</a><br /></td></tr>
<tr class="separator:a78f0c030c34167bb2dc43aa4ffdf6a6d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a234db07a50e7da10783e683220444c2d"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d0/d66/classcore__search_1_1engine.html#a234db07a50e7da10783e683220444c2d">add_documents</a> ($iterator, $searcharea, $options)</td></tr>
<tr class="memdesc:a234db07a50e7da10783e683220444c2d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Loop through given iterator of search documents and and have the search engine back end add them to the index.  <a href="../../d0/d66/classcore__search_1_1engine.html#a234db07a50e7da10783e683220444c2d">More...</a><br /></td></tr>
<tr class="separator:a234db07a50e7da10783e683220444c2d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9d34aa912ba5ad3b9aa8d4482c98f64b"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d0/d66/classcore__search_1_1engine.html#a9d34aa912ba5ad3b9aa8d4482c98f64b">area_index_complete</a> ($searcharea, $numdocs=0, $fullindex=false)</td></tr>
<tr class="memdesc:a9d34aa912ba5ad3b9aa8d4482c98f64b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Do any area cleanup needed, and do anything to confirm contents.  <a href="../../d0/d66/classcore__search_1_1engine.html#a9d34aa912ba5ad3b9aa8d4482c98f64b">More...</a><br /></td></tr>
<tr class="separator:a9d34aa912ba5ad3b9aa8d4482c98f64b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abe9b3a2ce39293f4652eaa82ce11e9df"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d0/d66/classcore__search_1_1engine.html#abe9b3a2ce39293f4652eaa82ce11e9df">area_index_starting</a> ($searcharea, $fullindex=false)</td></tr>
<tr class="memdesc:abe9b3a2ce39293f4652eaa82ce11e9df"><td class="mdescLeft">&#160;</td><td class="mdescRight">Do anything that may need to be done before an area is indexed.  <a href="../../d0/d66/classcore__search_1_1engine.html#abe9b3a2ce39293f4652eaa82ce11e9df">More...</a><br /></td></tr>
<tr class="separator:abe9b3a2ce39293f4652eaa82ce11e9df"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5b6a38b3536041fb87941a25a7858746"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d0/d66/classcore__search_1_1engine.html#a5b6a38b3536041fb87941a25a7858746">check_latest_schema</a> ()</td></tr>
<tr class="memdesc:a5b6a38b3536041fb87941a25a7858746"><td class="mdescLeft">&#160;</td><td class="mdescRight">Checks that the schema is the latest version.  <a href="../../d0/d66/classcore__search_1_1engine.html#a5b6a38b3536041fb87941a25a7858746">More...</a><br /></td></tr>
<tr class="separator:a5b6a38b3536041fb87941a25a7858746"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a81657a35775d45e16949e1f85d5ace4f"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d0/d66/classcore__search_1_1engine.html#a81657a35775d45e16949e1f85d5ace4f">clear_query_error</a> ()</td></tr>
<tr class="memdesc:a81657a35775d45e16949e1f85d5ace4f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Clears the current query error value.  <a href="../../d0/d66/classcore__search_1_1engine.html#a81657a35775d45e16949e1f85d5ace4f">More...</a><br /></td></tr>
<tr class="separator:a81657a35775d45e16949e1f85d5ace4f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4ea3ba8f6e0a83c9834e4761effb8dcf"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/db2/classmock__search_1_1engine.html#a4ea3ba8f6e0a83c9834e4761effb8dcf">delete</a> ($areaid=null)</td></tr>
<tr class="memdesc:a4ea3ba8f6e0a83c9834e4761effb8dcf"><td class="mdescLeft">&#160;</td><td class="mdescRight">Delete all documents.  <a href="../../de/db2/classmock__search_1_1engine.html#a4ea3ba8f6e0a83c9834e4761effb8dcf">More...</a><br /></td></tr>
<tr class="separator:a4ea3ba8f6e0a83c9834e4761effb8dcf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa6f0f48272757afdc61de4bf4730affa"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/db2/classmock__search_1_1engine.html#aa6f0f48272757afdc61de4bf4730affa">delete_index_for_context</a> (int $oldcontextid)</td></tr>
<tr class="memdesc:aa6f0f48272757afdc61de4bf4730affa"><td class="mdescLeft">&#160;</td><td class="mdescRight">Records delete of context index so it can be checked later.  <a href="../../de/db2/classmock__search_1_1engine.html#aa6f0f48272757afdc61de4bf4730affa">More...</a><br /></td></tr>
<tr class="separator:aa6f0f48272757afdc61de4bf4730affa"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a83a922bbf80fba8548f0b3a0eec6e2ba"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/db2/classmock__search_1_1engine.html#a83a922bbf80fba8548f0b3a0eec6e2ba">delete_index_for_course</a> (int $oldcourseid)</td></tr>
<tr class="memdesc:a83a922bbf80fba8548f0b3a0eec6e2ba"><td class="mdescLeft">&#160;</td><td class="mdescRight">Records delete of course index so it can be checked later.  <a href="../../de/db2/classmock__search_1_1engine.html#a83a922bbf80fba8548f0b3a0eec6e2ba">More...</a><br /></td></tr>
<tr class="separator:a83a922bbf80fba8548f0b3a0eec6e2ba"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4aa1a926bb03d540f844f15e1bef9705"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/db2/classmock__search_1_1engine.html#a4aa1a926bb03d540f844f15e1bef9705">execute_query</a> ($data, $usercontexts, $limit=0)</td></tr>
<tr class="memdesc:a4aa1a926bb03d540f844f15e1bef9705"><td class="mdescLeft">&#160;</td><td class="mdescRight">Executes the query on the engine.  <a href="../../de/db2/classmock__search_1_1engine.html#a4aa1a926bb03d540f844f15e1bef9705">More...</a><br /></td></tr>
<tr class="separator:a4aa1a926bb03d540f844f15e1bef9705"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1d49d307340048f074ff55178d906552"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d0/d66/classcore__search_1_1engine.html#a1d49d307340048f074ff55178d906552">file_indexing_enabled</a> ()</td></tr>
<tr class="memdesc:a1d49d307340048f074ff55178d906552"><td class="mdescLeft">&#160;</td><td class="mdescRight">Return true if file indexing is supported and enabled.  <a href="../../d0/d66/classcore__search_1_1engine.html#a1d49d307340048f074ff55178d906552">More...</a><br /></td></tr>
<tr class="separator:a1d49d307340048f074ff55178d906552"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a592621421b13df856402ec2be9252367"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/db2/classmock__search_1_1engine.html#a592621421b13df856402ec2be9252367">get_and_clear_added_documents</a> ()</td></tr>
<tr class="memdesc:a592621421b13df856402ec2be9252367"><td class="mdescLeft">&#160;</td><td class="mdescRight">Gets the list of indexed (added) documents since last time this function was called.  <a href="../../de/db2/classmock__search_1_1engine.html#a592621421b13df856402ec2be9252367">More...</a><br /></td></tr>
<tr class="separator:a592621421b13df856402ec2be9252367"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab92b7b9f4c8623804bdb29a72307fe2d"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/db2/classmock__search_1_1engine.html#ab92b7b9f4c8623804bdb29a72307fe2d">get_and_clear_deletes</a> ()</td></tr>
<tr class="memdesc:ab92b7b9f4c8623804bdb29a72307fe2d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Gets all course/context deletes applied, as an array.  <a href="../../de/db2/classmock__search_1_1engine.html#ab92b7b9f4c8623804bdb29a72307fe2d">More...</a><br /></td></tr>
<tr class="separator:ab92b7b9f4c8623804bdb29a72307fe2d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a83e44466daed51315e153067659696f1"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/db2/classmock__search_1_1engine.html#a83e44466daed51315e153067659696f1">get_and_clear_schema_updates</a> ()</td></tr>
<tr class="memdesc:a83e44466daed51315e153067659696f1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Gets all schema updates applied, as an array.  <a href="../../de/db2/classmock__search_1_1engine.html#a83e44466daed51315e153067659696f1">More...</a><br /></td></tr>
<tr class="separator:a83e44466daed51315e153067659696f1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3932e237dccb830eac3a1e1cccc49ca7"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d0/d66/classcore__search_1_1engine.html#a3932e237dccb830eac3a1e1cccc49ca7">get_batch_max_content</a> ()</td></tr>
<tr class="memdesc:a3932e237dccb830eac3a1e1cccc49ca7"><td class="mdescLeft">&#160;</td><td class="mdescRight">Gets the maximum size of document content to be included in a shared batch (if the document is bigger then it will be sent on its own; batching does not provide a performance improvement for big documents anyway).  <a href="../../d0/d66/classcore__search_1_1engine.html#a3932e237dccb830eac3a1e1cccc49ca7">More...</a><br /></td></tr>
<tr class="separator:a3932e237dccb830eac3a1e1cccc49ca7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aff89dd3c8494e413d74d8da936eed21c"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d0/d66/classcore__search_1_1engine.html#aff89dd3c8494e413d74d8da936eed21c">get_batch_max_documents</a> ()</td></tr>
<tr class="memdesc:aff89dd3c8494e413d74d8da936eed21c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Gets the maximum number of documents to send together in batch mode.  <a href="../../d0/d66/classcore__search_1_1engine.html#aff89dd3c8494e413d74d8da936eed21c">More...</a><br /></td></tr>
<tr class="separator:aff89dd3c8494e413d74d8da936eed21c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a69cd8bfa295b82c34ec43160b58c7433"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/db2/classmock__search_1_1engine.html#a69cd8bfa295b82c34ec43160b58c7433">get_course</a> ($courseid)</td></tr>
<tr class="memdesc:a69cd8bfa295b82c34ec43160b58c7433"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns a course instance checking internal caching.  <a href="../../de/db2/classmock__search_1_1engine.html#a69cd8bfa295b82c34ec43160b58c7433">More...</a><br /></td></tr>
<tr class="separator:a69cd8bfa295b82c34ec43160b58c7433"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab995efd89c51efb67d5c17f7ade17187"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d0/d66/classcore__search_1_1engine.html#ab995efd89c51efb67d5c17f7ade17187">get_document_classname</a> ()</td></tr>
<tr class="memdesc:ab995efd89c51efb67d5c17f7ade17187"><td class="mdescLeft">&#160;</td><td class="mdescRight">Gets the document class used by this search engine.  <a href="../../d0/d66/classcore__search_1_1engine.html#ab995efd89c51efb67d5c17f7ade17187">More...</a><br /></td></tr>
<tr class="separator:ab995efd89c51efb67d5c17f7ade17187"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4ec19dd01edb078cebbf42a097d582bf"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d0/d66/classcore__search_1_1engine.html#a4ec19dd01edb078cebbf42a097d582bf">get_plugin_name</a> ()</td></tr>
<tr class="memdesc:a4ec19dd01edb078cebbf42a097d582bf"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the plugin name.  <a href="../../d0/d66/classcore__search_1_1engine.html#a4ec19dd01edb078cebbf42a097d582bf">More...</a><br /></td></tr>
<tr class="separator:a4ec19dd01edb078cebbf42a097d582bf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a10e4d6f34a47050e6245415986ae6979"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d0/d66/classcore__search_1_1engine.html#a10e4d6f34a47050e6245415986ae6979">get_query_error</a> ()</td></tr>
<tr class="memdesc:a10e4d6f34a47050e6245415986ae6979"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns any error reported by the search engine when executing the provided query.  <a href="../../d0/d66/classcore__search_1_1engine.html#a10e4d6f34a47050e6245415986ae6979">More...</a><br /></td></tr>
<tr class="separator:a10e4d6f34a47050e6245415986ae6979"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aedbab7a7663cdca49f74b391f330b61b"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/db2/classmock__search_1_1engine.html#aedbab7a7663cdca49f74b391f330b61b">get_query_total_count</a> ()</td></tr>
<tr class="memdesc:aedbab7a7663cdca49f74b391f330b61b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the total number of documents available for the most recent call to execute_query.  <a href="../../de/db2/classmock__search_1_1engine.html#aedbab7a7663cdca49f74b391f330b61b">More...</a><br /></td></tr>
<tr class="separator:aedbab7a7663cdca49f74b391f330b61b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7b20aaac3fe7ada624089e933b383d23"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/db2/classmock__search_1_1engine.html#a7b20aaac3fe7ada624089e933b383d23">get_search_area</a> ($areaid)</td></tr>
<tr class="memdesc:a7b20aaac3fe7ada624089e933b383d23"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns a search instance of the specified area checking internal caching.  <a href="../../de/db2/classmock__search_1_1engine.html#a7b20aaac3fe7ada624089e933b383d23">More...</a><br /></td></tr>
<tr class="separator:a7b20aaac3fe7ada624089e933b383d23"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2e70e3bed784dfee17400bd293f8ba85"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d0/d66/classcore__search_1_1engine.html#a2e70e3bed784dfee17400bd293f8ba85">get_supported_orders</a> (\<a class="el" href="../../da/d04/classcontext.html">context</a> $<a class="el" href="../../da/d04/classcontext.html">context</a>)</td></tr>
<tr class="memdesc:a2e70e3bed784dfee17400bd293f8ba85"><td class="mdescLeft">&#160;</td><td class="mdescRight">Obtain a list of results orders (and names for them) that are supported by this search engine in the given context.  <a href="../../d0/d66/classcore__search_1_1engine.html#a2e70e3bed784dfee17400bd293f8ba85">More...</a><br /></td></tr>
<tr class="separator:a2e70e3bed784dfee17400bd293f8ba85"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2d9f7c412fbde2b64845db4d59049758"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d0/d66/classcore__search_1_1engine.html#a2d9f7c412fbde2b64845db4d59049758">get_user</a> ($userid)</td></tr>
<tr class="memdesc:a2d9f7c412fbde2b64845db4d59049758"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns user data checking the internal static cache.  <a href="../../d0/d66/classcore__search_1_1engine.html#a2d9f7c412fbde2b64845db4d59049758">More...</a><br /></td></tr>
<tr class="separator:a2d9f7c412fbde2b64845db4d59049758"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a14d9d6f4f08c9ce30afd39f5e31cc19b"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d0/d66/classcore__search_1_1engine.html#a14d9d6f4f08c9ce30afd39f5e31cc19b">has_alternate_configuration</a> ()</td></tr>
<tr class="memdesc:a14d9d6f4f08c9ce30afd39f5e31cc19b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Checks if the search engine has an alternate configuration.  <a href="../../d0/d66/classcore__search_1_1engine.html#a14d9d6f4f08c9ce30afd39f5e31cc19b">More...</a><br /></td></tr>
<tr class="separator:a14d9d6f4f08c9ce30afd39f5e31cc19b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aff048de31fb192865e6609f65493c214"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d0/d66/classcore__search_1_1engine.html#aff048de31fb192865e6609f65493c214">index_complete</a> ($numdocs=0, $fullindex=false)</td></tr>
<tr class="memdesc:aff048de31fb192865e6609f65493c214"><td class="mdescLeft">&#160;</td><td class="mdescRight">Run any post indexing operations.  <a href="../../d0/d66/classcore__search_1_1engine.html#aff048de31fb192865e6609f65493c214">More...</a><br /></td></tr>
<tr class="separator:aff048de31fb192865e6609f65493c214"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9d90b2511e1fa69b4cb7ed20a833c3d8"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d0/d66/classcore__search_1_1engine.html#a9d90b2511e1fa69b4cb7ed20a833c3d8">index_starting</a> ($fullindex=false)</td></tr>
<tr class="memdesc:a9d90b2511e1fa69b4cb7ed20a833c3d8"><td class="mdescLeft">&#160;</td><td class="mdescRight">Run any pre-indexing operations.  <a href="../../d0/d66/classcore__search_1_1engine.html#a9d90b2511e1fa69b4cb7ed20a833c3d8">More...</a><br /></td></tr>
<tr class="separator:a9d90b2511e1fa69b4cb7ed20a833c3d8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a72fc1dccdc33a758ba06dd2af58dcf90"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/db2/classmock__search_1_1engine.html#a72fc1dccdc33a758ba06dd2af58dcf90">is_installed</a> ()</td></tr>
<tr class="memdesc:a72fc1dccdc33a758ba06dd2af58dcf90"><td class="mdescLeft">&#160;</td><td class="mdescRight">Does the system satisfy all the requirements.  <a href="../../de/db2/classmock__search_1_1engine.html#a72fc1dccdc33a758ba06dd2af58dcf90">More...</a><br /></td></tr>
<tr class="separator:a72fc1dccdc33a758ba06dd2af58dcf90"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a36f8709e230d2ec7417f4658fef999c7"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/db2/classmock__search_1_1engine.html#a36f8709e230d2ec7417f4658fef999c7">is_server_ready</a> ()</td></tr>
<tr class="memdesc:a36f8709e230d2ec7417f4658fef999c7"><td class="mdescLeft">&#160;</td><td class="mdescRight">Is the server ready to use?  <a href="../../de/db2/classmock__search_1_1engine.html#a36f8709e230d2ec7417f4658fef999c7">More...</a><br /></td></tr>
<tr class="separator:a36f8709e230d2ec7417f4658fef999c7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad35d1ce15ed20d37cb761a18b279f5f1"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d0/d66/classcore__search_1_1engine.html#ad35d1ce15ed20d37cb761a18b279f5f1">optimize</a> ()</td></tr>
<tr class="memdesc:ad35d1ce15ed20d37cb761a18b279f5f1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Optimizes the search engine.  <a href="../../d0/d66/classcore__search_1_1engine.html#ad35d1ce15ed20d37cb761a18b279f5f1">More...</a><br /></td></tr>
<tr class="separator:ad35d1ce15ed20d37cb761a18b279f5f1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abfe1f56b0ab42852fe5916a15b78cdff"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d0/d66/classcore__search_1_1engine.html#abfe1f56b0ab42852fe5916a15b78cdff">record_applied_schema_version</a> ($version)</td></tr>
<tr class="memdesc:abfe1f56b0ab42852fe5916a15b78cdff"><td class="mdescLeft">&#160;</td><td class="mdescRight">Usually called by the engine; marks that the schema has been updated.  <a href="../../d0/d66/classcore__search_1_1engine.html#abfe1f56b0ab42852fe5916a15b78cdff">More...</a><br /></td></tr>
<tr class="separator:abfe1f56b0ab42852fe5916a15b78cdff"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2c96aad8367e2c2fd877634ce1c0bd66"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/db2/classmock__search_1_1engine.html#a2c96aad8367e2c2fd877634ce1c0bd66">set_add_delay</a> ($seconds)</td></tr>
<tr class="memdesc:a2c96aad8367e2c2fd877634ce1c0bd66"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sets an add delay to simulate time taken indexing.  <a href="../../de/db2/classmock__search_1_1engine.html#a2c96aad8367e2c2fd877634ce1c0bd66">More...</a><br /></td></tr>
<tr class="separator:a2c96aad8367e2c2fd877634ce1c0bd66"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a07744a383f58ece1317bb140954f03a6"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d0/d66/classcore__search_1_1engine.html#a07744a383f58ece1317bb140954f03a6">skip_schema_check</a> ($skip=true)</td></tr>
<tr class="memdesc:a07744a383f58ece1317bb140954f03a6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Tells the search engine to skip any time-consuming checks that it might do as part of the is_server_ready function, and only carry out a basic check that it can contact the server.  <a href="../../d0/d66/classcore__search_1_1engine.html#a07744a383f58ece1317bb140954f03a6">More...</a><br /></td></tr>
<tr class="separator:a07744a383f58ece1317bb140954f03a6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae7eb7d21cb9242750ca91b8e04d66cca"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d0/d66/classcore__search_1_1engine.html#ae7eb7d21cb9242750ca91b8e04d66cca">supports_add_document_batch</a> ()</td></tr>
<tr class="memdesc:ae7eb7d21cb9242750ca91b8e04d66cca"><td class="mdescLeft">&#160;</td><td class="mdescRight">Checks if the search engine supports adding documents in a batch.  <a href="../../d0/d66/classcore__search_1_1engine.html#ae7eb7d21cb9242750ca91b8e04d66cca">More...</a><br /></td></tr>
<tr class="separator:ae7eb7d21cb9242750ca91b8e04d66cca"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adfcac166f5550dff691c721415d83816"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d0/d66/classcore__search_1_1engine.html#adfcac166f5550dff691c721415d83816">supports_group_filtering</a> ()</td></tr>
<tr class="memdesc:adfcac166f5550dff691c721415d83816"><td class="mdescLeft">&#160;</td><td class="mdescRight">Checks if this search engine supports groups.  <a href="../../d0/d66/classcore__search_1_1engine.html#adfcac166f5550dff691c721415d83816">More...</a><br /></td></tr>
<tr class="separator:adfcac166f5550dff691c721415d83816"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afbc7b72413ebe511fdc2463aa99b57de"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d0/d66/classcore__search_1_1engine.html#afbc7b72413ebe511fdc2463aa99b57de">supports_users</a> ()</td></tr>
<tr class="memdesc:afbc7b72413ebe511fdc2463aa99b57de"><td class="mdescLeft">&#160;</td><td class="mdescRight">Checks if the search engine supports searching by user.  <a href="../../d0/d66/classcore__search_1_1engine.html#afbc7b72413ebe511fdc2463aa99b57de">More...</a><br /></td></tr>
<tr class="separator:afbc7b72413ebe511fdc2463aa99b57de"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad533f6e9af2a4c42c7eb1322b81809eb"><td class="memItemLeft" align="right" valign="top"><a id="ad533f6e9af2a4c42c7eb1322b81809eb" name="ad533f6e9af2a4c42c7eb1322b81809eb"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>to_document</b> (\<a class="el" href="../../d4/dd1/classcore__search_1_1base.html">core_search\base</a> $searcharea, $docdata)</td></tr>
<tr class="separator:ad533f6e9af2a4c42c7eb1322b81809eb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a217d01c4e384dd4be1bffb7c8010d4ff"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/db2/classmock__search_1_1engine.html#a217d01c4e384dd4be1bffb7c8010d4ff">update_schema</a> ($oldversion, $newversion)</td></tr>
<tr class="memdesc:a217d01c4e384dd4be1bffb7c8010d4ff"><td class="mdescLeft">&#160;</td><td class="mdescRight">Requests the search engine to upgrade the schema.  <a href="../../de/db2/classmock__search_1_1engine.html#a217d01c4e384dd4be1bffb7c8010d4ff">More...</a><br /></td></tr>
<tr class="separator:a217d01c4e384dd4be1bffb7c8010d4ff"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-static-methods" name="pub-static-methods"></a>
Static Public Member Functions</h2></td></tr>
<tr class="memitem:a4f1b50cf10755a1acf9131022a73a906"><td class="memItemLeft" align="right" valign="top">static&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d0/d66/classcore__search_1_1engine.html#a4f1b50cf10755a1acf9131022a73a906">clear_users_cache</a> ()</td></tr>
<tr class="memdesc:a4f1b50cf10755a1acf9131022a73a906"><td class="mdescLeft">&#160;</td><td class="mdescRight">Clears the users cache.  <a href="../../d0/d66/classcore__search_1_1engine.html#a4f1b50cf10755a1acf9131022a73a906">More...</a><br /></td></tr>
<tr class="separator:a4f1b50cf10755a1acf9131022a73a906"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pro-methods" name="pro-methods"></a>
Protected Member Functions</h2></td></tr>
<tr class="memitem:a3d7e47c8581d7b3acd802cb8336e679e"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d0/d66/classcore__search_1_1engine.html#a3d7e47c8581d7b3acd802cb8336e679e">should_skip_schema_check</a> ()</td></tr>
<tr class="memdesc:a3d7e47c8581d7b3acd802cb8336e679e"><td class="mdescLeft">&#160;</td><td class="mdescRight">For use by subclasses.  <a href="../../d0/d66/classcore__search_1_1engine.html#a3d7e47c8581d7b3acd802cb8336e679e">More...</a><br /></td></tr>
<tr class="separator:a3d7e47c8581d7b3acd802cb8336e679e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad3241b8695ba90ee12900369e9a4c6a1"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d0/d66/classcore__search_1_1engine.html#ad3241b8695ba90ee12900369e9a4c6a1">to_document</a> (\<a class="el" href="../../d4/dd1/classcore__search_1_1base.html">core_search\base</a> $searcharea, $docdata)</td></tr>
<tr class="memdesc:ad3241b8695ba90ee12900369e9a4c6a1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns a document instance prepared to be rendered.  <a href="../../d0/d66/classcore__search_1_1engine.html#ad3241b8695ba90ee12900369e9a4c6a1">More...</a><br /></td></tr>
<tr class="separator:ad3241b8695ba90ee12900369e9a4c6a1"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pro-attribs" name="pro-attribs"></a>
Protected Attributes</h2></td></tr>
<tr class="memitem:aeee26e088edd370e070ee138af7a26bc"><td class="memItemLeft" align="right" valign="top"><a id="aeee26e088edd370e070ee138af7a26bc" name="aeee26e088edd370e070ee138af7a26bc"></a>
float&#160;</td><td class="memItemRight" valign="bottom"><b>$adddelay</b> = 0</td></tr>
<tr class="memdesc:aeee26e088edd370e070ee138af7a26bc"><td class="mdescLeft">&#160;</td><td class="mdescRight">If set, waits when adding each document (seconds) <br /></td></tr>
<tr class="separator:aeee26e088edd370e070ee138af7a26bc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9d801bb76b07d171e86a581817d9e819"><td class="memItemLeft" align="right" valign="top"><a id="a9d801bb76b07d171e86a581817d9e819" name="a9d801bb76b07d171e86a581817d9e819"></a>
core_search document[]&#160;</td><td class="memItemRight" valign="bottom"><b>$added</b> = []</td></tr>
<tr class="memdesc:a9d801bb76b07d171e86a581817d9e819"><td class="mdescLeft">&#160;</td><td class="mdescRight">Documents added. <br /></td></tr>
<tr class="separator:a9d801bb76b07d171e86a581817d9e819"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6d79528042f979f7d5d01c49a81d575e"><td class="memItemLeft" align="right" valign="top"><a id="a6d79528042f979f7d5d01c49a81d575e" name="a6d79528042f979f7d5d01c49a81d575e"></a>
array&#160;</td><td class="memItemRight" valign="bottom"><b>$cachedareas</b> = array()</td></tr>
<tr class="memdesc:a6d79528042f979f7d5d01c49a81d575e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Internal cache. <br /></td></tr>
<tr class="separator:a6d79528042f979f7d5d01c49a81d575e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a544e966f5122250e05afebe26b47d927"><td class="memItemLeft" align="right" valign="top"><a id="a544e966f5122250e05afebe26b47d927" name="a544e966f5122250e05afebe26b47d927"></a>
array&#160;</td><td class="memItemRight" valign="bottom"><b>$cachedcourses</b> = array()</td></tr>
<tr class="memdesc:a544e966f5122250e05afebe26b47d927"><td class="mdescLeft">&#160;</td><td class="mdescRight">Internal cache. <br /></td></tr>
<tr class="separator:a544e966f5122250e05afebe26b47d927"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afe27c421db29f8a710dbfcc05c95bf2f"><td class="memItemLeft" align="right" valign="top"><a id="afe27c421db29f8a710dbfcc05c95bf2f" name="afe27c421db29f8a710dbfcc05c95bf2f"></a>
stdClass&#160;</td><td class="memItemRight" valign="bottom"><b>$config</b> = null</td></tr>
<tr class="memdesc:afe27c421db29f8a710dbfcc05c95bf2f"><td class="mdescLeft">&#160;</td><td class="mdescRight">The search engine configuration. <br /></td></tr>
<tr class="separator:afe27c421db29f8a710dbfcc05c95bf2f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aca210dfdf972c1e742100fb768127479"><td class="memItemLeft" align="right" valign="top"><a id="aca210dfdf972c1e742100fb768127479" name="aca210dfdf972c1e742100fb768127479"></a>
string&#160;</td><td class="memItemRight" valign="bottom"><b>$pluginname</b> = null</td></tr>
<tr class="memdesc:aca210dfdf972c1e742100fb768127479"><td class="mdescLeft">&#160;</td><td class="mdescRight">Frankenstyle plugin name. <br /></td></tr>
<tr class="separator:aca210dfdf972c1e742100fb768127479"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a50fef94c1f9ad55b064836ead156ef19"><td class="memItemLeft" align="right" valign="top"><a id="a50fef94c1f9ad55b064836ead156ef19" name="a50fef94c1f9ad55b064836ead156ef19"></a>
string&#160;</td><td class="memItemRight" valign="bottom"><b>$queryerror</b> = null</td></tr>
<tr class="memdesc:a50fef94c1f9ad55b064836ead156ef19"><td class="mdescLeft">&#160;</td><td class="mdescRight">Last executed query error, if there was any. <br /></td></tr>
<tr class="separator:a50fef94c1f9ad55b064836ead156ef19"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aab0044fb1b8667d34f66d6d2fc8695b4"><td class="memItemLeft" align="right" valign="top"><a id="aab0044fb1b8667d34f66d6d2fc8695b4" name="aab0044fb1b8667d34f66d6d2fc8695b4"></a>
array&#160;</td><td class="memItemRight" valign="bottom"><b>$schemaupdates</b> = []</td></tr>
<tr class="memdesc:aab0044fb1b8667d34f66d6d2fc8695b4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Schema updates applied. <br /></td></tr>
<tr class="separator:aab0044fb1b8667d34f66d6d2fc8695b4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa20d5dc09d6ab752c1939aa070f92a35"><td class="memItemLeft" align="right" valign="top"><a id="aa20d5dc09d6ab752c1939aa070f92a35" name="aa20d5dc09d6ab752c1939aa070f92a35"></a>
bool&#160;</td><td class="memItemRight" valign="bottom"><b>$skipschemacheck</b> = false</td></tr>
<tr class="memdesc:aa20d5dc09d6ab752c1939aa070f92a35"><td class="mdescLeft">&#160;</td><td class="mdescRight">If true, should skip schema validity check when checking the search engine is ready. <br /></td></tr>
<tr class="separator:aa20d5dc09d6ab752c1939aa070f92a35"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pro-static-attribs" name="pro-static-attribs"></a>
Static Protected Attributes</h2></td></tr>
<tr class="memitem:ab71dd596ba238da41beb9468c9167187"><td class="memItemLeft" align="right" valign="top">static stdClass[]&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d0/d66/classcore__search_1_1engine.html#ab71dd596ba238da41beb9468c9167187">$cachedusers</a> = array()</td></tr>
<tr class="memdesc:ab71dd596ba238da41beb9468c9167187"><td class="mdescLeft">&#160;</td><td class="mdescRight">User data required to show their fullnames.  <a href="../../d0/d66/classcore__search_1_1engine.html#ab71dd596ba238da41beb9468c9167187">More...</a><br /></td></tr>
<tr class="separator:ab71dd596ba238da41beb9468c9167187"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="a688d3c4fa699c45074add7514ad0e157" name="a688d3c4fa699c45074add7514ad0e157"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a688d3c4fa699c45074add7514ad0e157">&#9670;&nbsp;</a></span>add_document()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">mock_search\engine::add_document </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$document</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$fileindexing</em> = <code>false</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Adds a document to the search engine. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">document</td><td class="paramname">$document</td><td></td></tr>
    <tr><td class="paramtype">bool</td><td class="paramname">$fileindexing</td><td>True if file indexing is to be used </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">bool</td><td>False if the file was skipped or failed, true on success </td></tr>
  </table>
  </dd>
</dl>

<p>Reimplemented from <a class="el" href="../../d0/d66/classcore__search_1_1engine.html#adb39369ed3a8e2be2fc85548cddecd64">core_search\engine</a>.</p>

</div>
</div>
<a id="a78f0c030c34167bb2dc43aa4ffdf6a6d" name="a78f0c030c34167bb2dc43aa4ffdf6a6d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a78f0c030c34167bb2dc43aa4ffdf6a6d">&#9670;&nbsp;</a></span>add_document_batch()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">core_search\engine::add_document_batch </td>
          <td>(</td>
          <td class="paramtype">array&#160;</td>
          <td class="paramname"><em>$documents</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>$fileindexing</em> = <code>false</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Adds multiple documents to the search engine. </p>
<p >It should return the number successfully processed, and the number of batches they were processed in (for example if you add 100 documents and there is an error processing one of those documents, and it took 4 batches, it would return [99, 1, 4]).</p>
<p >If the engine implements this, it should return true to {</p><dl class="section see"><dt>See also</dt><dd><a class="el" href="../../d0/d66/classcore__search_1_1engine.html#ae7eb7d21cb9242750ca91b8e04d66cca" title="Checks if the search engine supports adding documents in a batch.">supports_add_document_batch</a>}.</dd></dl>
<p>The system will only call this function with up to {</p><dl class="section see"><dt>See also</dt><dd><a class="el" href="../../d0/d66/classcore__search_1_1engine.html#aff89dd3c8494e413d74d8da936eed21c" title="Gets the maximum number of documents to send together in batch mode.">get_batch_max_documents</a>} documents, and each document in the batch will have content no larger than specified by {</dd>
<dd>
<a class="el" href="../../d0/d66/classcore__search_1_1engine.html#a3932e237dccb830eac3a1e1cccc49ca7" title="Gets the maximum size of document content to be included in a shared batch (if the document is bigger...">get_batch_max_content</a>}.</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">document[]</td><td class="paramname">$documents</td><td>Documents to add </td></tr>
    <tr><td class="paramtype">bool</td><td class="paramname">$fileindexing</td><td>True if file indexing is to be used </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">int[]</td><td>Array of three elements, successfully processed, failed processed, batch count </td></tr>
  </table>
  </dd>
</dl>

<p>Reimplemented in <a class="el" href="../../d9/d9f/classsearch__solr_1_1engine.html#af983cd7a298f8efbce46994fce2c9d61">search_solr\engine</a>.</p>

</div>
</div>
<a id="a234db07a50e7da10783e683220444c2d" name="a234db07a50e7da10783e683220444c2d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a234db07a50e7da10783e683220444c2d">&#9670;&nbsp;</a></span>add_documents()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">core_search\engine::add_documents </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$iterator</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$searcharea</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$options</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Loop through given iterator of search documents and and have the search engine back end add them to the index. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">iterator</td><td class="paramname">$iterator</td><td>the iterator of documents to index </td></tr>
    <tr><td class="paramtype">base</td><td class="paramname">$searcharea</td><td>the area for the documents to index </td></tr>
    <tr><td class="paramtype">array</td><td class="paramname">$options</td><td>document indexing options </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">array</td><td>Processed document counts </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a9d34aa912ba5ad3b9aa8d4482c98f64b" name="a9d34aa912ba5ad3b9aa8d4482c98f64b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9d34aa912ba5ad3b9aa8d4482c98f64b">&#9670;&nbsp;</a></span>area_index_complete()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">core_search\engine::area_index_complete </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$searcharea</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$numdocs</em> = <code>0</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$fullindex</em> = <code>false</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Do any area cleanup needed, and do anything to confirm contents. </p>
<p >Return false to prevent the search area completed time and stats from being updated.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype"><a class="el" href="../../d4/dd1/classcore__search_1_1base.html" title="Base search implementation.">core_search::base</a></td><td class="paramname">$searcharea</td><td>The search area that was complete </td></tr>
    <tr><td class="paramtype">int</td><td class="paramname">$numdocs</td><td>The number of documents that were added to the index </td></tr>
    <tr><td class="paramtype">bool</td><td class="paramname">$fullindex</td><td>True if a full index is being performed </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">bool</td><td>True means that data is considered indexed </td></tr>
  </table>
  </dd>
</dl>

<p>Reimplemented in <a class="el" href="../../d9/d9f/classsearch__solr_1_1engine.html#af2756126f73806a75d5c8cec8ac266c1">search_solr\engine</a>.</p>

</div>
</div>
<a id="abe9b3a2ce39293f4652eaa82ce11e9df" name="abe9b3a2ce39293f4652eaa82ce11e9df"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abe9b3a2ce39293f4652eaa82ce11e9df">&#9670;&nbsp;</a></span>area_index_starting()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">core_search\engine::area_index_starting </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$searcharea</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$fullindex</em> = <code>false</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Do anything that may need to be done before an area is indexed. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype"><a class="el" href="../../d4/dd1/classcore__search_1_1base.html" title="Base search implementation.">core_search::base</a></td><td class="paramname">$searcharea</td><td>The search area that was complete </td></tr>
    <tr><td class="paramtype">bool</td><td class="paramname">$fullindex</td><td>True if a full index is being performed </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">void</td><td></td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a5b6a38b3536041fb87941a25a7858746" name="a5b6a38b3536041fb87941a25a7858746"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5b6a38b3536041fb87941a25a7858746">&#9670;&nbsp;</a></span>check_latest_schema()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">core_search\engine::check_latest_schema </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Checks that the schema is the latest version. </p>
<p >If the version stored in config does not match the current, this function will attempt to upgrade the schema.</p>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">bool|string</td><td>True if schema is OK, a string if user needs to take action </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a81657a35775d45e16949e1f85d5ace4f" name="a81657a35775d45e16949e1f85d5ace4f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a81657a35775d45e16949e1f85d5ace4f">&#9670;&nbsp;</a></span>clear_query_error()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">core_search\engine::clear_query_error </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Clears the current query error value. </p>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">void</td><td></td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a4f1b50cf10755a1acf9131022a73a906" name="a4f1b50cf10755a1acf9131022a73a906"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4f1b50cf10755a1acf9131022a73a906">&#9670;&nbsp;</a></span>clear_users_cache()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static core_search\engine::clear_users_cache </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Clears the users cache. </p>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">null</td><td></td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a4ea3ba8f6e0a83c9834e4761effb8dcf" name="a4ea3ba8f6e0a83c9834e4761effb8dcf"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4ea3ba8f6e0a83c9834e4761effb8dcf">&#9670;&nbsp;</a></span>delete()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">mock_search\engine::delete </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$areaid</em> = <code>null</code></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Delete all documents. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">string</td><td class="paramname">$areaid</td><td>To filter by area </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">void</td><td></td></tr>
  </table>
  </dd>
</dl>

<p>Reimplemented from <a class="el" href="../../d0/d66/classcore__search_1_1engine.html#a55cd0c711f640fdf047c9baa5e73e400">core_search\engine</a>.</p>

</div>
</div>
<a id="aa6f0f48272757afdc61de4bf4730affa" name="aa6f0f48272757afdc61de4bf4730affa"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa6f0f48272757afdc61de4bf4730affa">&#9670;&nbsp;</a></span>delete_index_for_context()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">mock_search\engine::delete_index_for_context </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>$oldcontextid</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Records delete of context index so it can be checked later. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">int</td><td class="paramname">$oldcontextid</td><td>Context id </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">bool</td><td>True to indicate action taken </td></tr>
  </table>
  </dd>
</dl>

<p>Reimplemented from <a class="el" href="../../d0/d66/classcore__search_1_1engine.html#a306444949f7163a54f597ca1238af97c">core_search\engine</a>.</p>

</div>
</div>
<a id="a83a922bbf80fba8548f0b3a0eec6e2ba" name="a83a922bbf80fba8548f0b3a0eec6e2ba"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a83a922bbf80fba8548f0b3a0eec6e2ba">&#9670;&nbsp;</a></span>delete_index_for_course()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">mock_search\engine::delete_index_for_course </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>$oldcourseid</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Records delete of course index so it can be checked later. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">int</td><td class="paramname">$oldcourseid</td><td>Course id </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">bool</td><td>True to indicate action taken </td></tr>
  </table>
  </dd>
</dl>

<p>Reimplemented from <a class="el" href="../../d0/d66/classcore__search_1_1engine.html#a938b221714b16fb9cd166436129a765e">core_search\engine</a>.</p>

</div>
</div>
<a id="a4aa1a926bb03d540f844f15e1bef9705" name="a4aa1a926bb03d540f844f15e1bef9705"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4aa1a926bb03d540f844f15e1bef9705">&#9670;&nbsp;</a></span>execute_query()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">mock_search\engine::execute_query </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$filters</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$accessinfo</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$limit</em> = <code>0</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Executes the query on the engine. </p>
<p >Implementations of this function should check user context array to limit the results to contexts where the user have access. They should also limit the owneruserid field to manger::NO_OWNER_ID or the current user's id. Engines must use area-&gt;check_access() to confirm user access.</p>
<p >Engines should reasonably attempt to fill up to limit with valid results if they are available.</p>
<p >The $filters object may include the following fields (optional except q):</p><ul>
<li>q: value of main search field; results should include this text</li>
<li>title: if included, title must match this search</li>
<li>areaids: array of search area id strings (only these areas will be searched)</li>
<li>courseids: array of course ids (only these courses will be searched)</li>
<li>groupids: array of group ids (only results specifically from these groupids will be searched) - this option will be ignored if the search engine doesn't support groups</li>
</ul>
<p >The $accessinfo parameter has two different values (for historical compatibility). If the engine returns false to supports_group_filtering then it is an array of user contexts, or true if the user can access all contexts. (This parameter used to be called $usercontexts.) If the engine returns true to supports_group_filtering then it will be an object containing these fields:</p><ul>
<li>everything (true if admin is searching with no restrictions)</li>
<li>usercontexts (same as above)</li>
<li>separategroupscontexts (array of context ids where separate groups are used)</li>
<li>visiblegroupscontextsareas (array of subset of those where some areas use visible groups)</li>
<li>usergroups (array of relevant group ids that user belongs to)</li>
</ul>
<p >The engine should apply group restrictions to those contexts listed in the 'separategroupscontexts' array. In these contexts, it shouled only include results if the groupid is not set, or if the groupid matches one of the values in USER_GROUPS array, or if the search area is one of those listed in 'visiblegroupscontextsareas' for that context.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">stdClass</td><td class="paramname">$filters</td><td>Query and filters to apply. </td></tr>
    <tr><td class="paramtype">stdClass</td><td class="paramname">$accessinfo</td><td>Information about the contexts the user can access </td></tr>
    <tr><td class="paramtype">int</td><td class="paramname">$limit</td><td>The maximum number of results to return. If empty, limit to <a class="el" href="../../d8/df9/classcore__search_1_1manager.html#ae06b04886dae528dff0b50879480a700" title="Maximum number of results that will be retrieved from the search engine.">manager::MAX_RESULTS</a>. </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">core_search::document[]</td><td>Results or false if no results </td></tr>
  </table>
  </dd>
</dl>

<p>Reimplemented from <a class="el" href="../../d0/d66/classcore__search_1_1engine.html#ac5f9e282c3d7b475a6ab16d03e45b3c4">core_search\engine</a>.</p>

</div>
</div>
<a id="a1d49d307340048f074ff55178d906552" name="a1d49d307340048f074ff55178d906552"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1d49d307340048f074ff55178d906552">&#9670;&nbsp;</a></span>file_indexing_enabled()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">core_search\engine::file_indexing_enabled </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Return true if file indexing is supported and enabled. </p>
<p >False otherwise.</p>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">bool</td><td></td></tr>
  </table>
  </dd>
</dl>

<p>Reimplemented in <a class="el" href="../../d9/d9f/classsearch__solr_1_1engine.html#a962168017ede23d047a7503946bf11d1">search_solr\engine</a>.</p>

</div>
</div>
<a id="a592621421b13df856402ec2be9252367" name="a592621421b13df856402ec2be9252367"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a592621421b13df856402ec2be9252367">&#9670;&nbsp;</a></span>get_and_clear_added_documents()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">mock_search\engine::get_and_clear_added_documents </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Gets the list of indexed (added) documents since last time this function was called. </p>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">core_search::document[]</td><td>List of documents, in order added. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ab92b7b9f4c8623804bdb29a72307fe2d" name="ab92b7b9f4c8623804bdb29a72307fe2d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab92b7b9f4c8623804bdb29a72307fe2d">&#9670;&nbsp;</a></span>get_and_clear_deletes()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">mock_search\engine::get_and_clear_deletes </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Gets all course/context deletes applied, as an array. </p>
<p >Each entry is an array with two values, the first is either 'course' or 'context' and the second is the id deleted.</p>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">array</td><td>List of deletes for comparison </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a83e44466daed51315e153067659696f1" name="a83e44466daed51315e153067659696f1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a83e44466daed51315e153067659696f1">&#9670;&nbsp;</a></span>get_and_clear_schema_updates()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">mock_search\engine::get_and_clear_schema_updates </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Gets all schema updates applied, as an array. </p>
<p >Each entry has an array with two values, old and new version.</p>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">array</td><td>List of schema updates for comparison </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a3932e237dccb830eac3a1e1cccc49ca7" name="a3932e237dccb830eac3a1e1cccc49ca7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3932e237dccb830eac3a1e1cccc49ca7">&#9670;&nbsp;</a></span>get_batch_max_content()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">core_search\engine::get_batch_max_content </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Gets the maximum size of document content to be included in a shared batch (if the document is bigger then it will be sent on its own; batching does not provide a performance improvement for big documents anyway). </p>
<p >Only relevant if the engine returns true to {</p><dl class="section see"><dt>See also</dt><dd><a class="el" href="../../d0/d66/classcore__search_1_1engine.html#ae7eb7d21cb9242750ca91b8e04d66cca" title="Checks if the search engine supports adding documents in a batch.">supports_add_document_batch</a>}.</dd></dl>
<p>Can be overridden by search engine if required.</p>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">int</td><td>Max size in bytes, default 1MB </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="aff89dd3c8494e413d74d8da936eed21c" name="aff89dd3c8494e413d74d8da936eed21c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aff89dd3c8494e413d74d8da936eed21c">&#9670;&nbsp;</a></span>get_batch_max_documents()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int core_search\engine::get_batch_max_documents </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Gets the maximum number of documents to send together in batch mode. </p>
<p >Only relevant if the engine returns true to {</p><dl class="section see"><dt>See also</dt><dd><a class="el" href="../../d0/d66/classcore__search_1_1engine.html#ae7eb7d21cb9242750ca91b8e04d66cca" title="Checks if the search engine supports adding documents in a batch.">supports_add_document_batch</a>}.</dd></dl>
<p>Can be overridden by search engine if required.</p>
<p >Number of documents to send together in batch mode, default 100. </p>

</div>
</div>
<a id="a69cd8bfa295b82c34ec43160b58c7433" name="a69cd8bfa295b82c34ec43160b58c7433"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a69cd8bfa295b82c34ec43160b58c7433">&#9670;&nbsp;</a></span>get_course()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">mock_search\engine::get_course </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$courseid</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns a course instance checking internal caching. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">int</td><td class="paramname">$courseid</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">stdClass</td><td></td></tr>
  </table>
  </dd>
</dl>

<p>Reimplemented from <a class="el" href="../../d0/d66/classcore__search_1_1engine.html#a2af2b3cc9b49757ff11604ca2f0788c6">core_search\engine</a>.</p>

</div>
</div>
<a id="ab995efd89c51efb67d5c17f7ade17187" name="ab995efd89c51efb67d5c17f7ade17187"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab995efd89c51efb67d5c17f7ade17187">&#9670;&nbsp;</a></span>get_document_classname()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">core_search\engine::get_document_classname </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Gets the document class used by this search engine. </p>
<p >Search engines can overwrite <a class="el" href="../../d3/d5d/classcore__search_1_1document.html" title="Represents a document to index.">core_search::document</a> with search_ENGINENAME\document class.</p>
<p >Looks for a document class in the current search engine namespace, falling back to <a class="el" href="../../d3/d5d/classcore__search_1_1document.html" title="Represents a document to index.">core_search::document</a>.</p>
<p >Publicly available because search areas do not have access to the engine details, <a class="el" href="../../df/d6b/classcore__search_1_1document__factory.html" title="Search document factory.">core_search::document_factory</a> accesses this function.</p>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">string</td><td></td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a4ec19dd01edb078cebbf42a097d582bf" name="a4ec19dd01edb078cebbf42a097d582bf"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4ec19dd01edb078cebbf42a097d582bf">&#9670;&nbsp;</a></span>get_plugin_name()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">core_search\engine::get_plugin_name </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Returns the plugin name. </p>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">string</td><td>Frankenstyle plugin name. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a10e4d6f34a47050e6245415986ae6979" name="a10e4d6f34a47050e6245415986ae6979"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a10e4d6f34a47050e6245415986ae6979">&#9670;&nbsp;</a></span>get_query_error()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">core_search\engine::get_query_error </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Returns any error reported by the search engine when executing the provided query. </p>
<p >It should be called from static::execute_query when an exception is triggered.</p>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">string</td><td></td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="aedbab7a7663cdca49f74b391f330b61b" name="aedbab7a7663cdca49f74b391f330b61b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aedbab7a7663cdca49f74b391f330b61b">&#9670;&nbsp;</a></span>get_query_total_count()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">mock_search\engine::get_query_total_count </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns the total number of documents available for the most recent call to execute_query. </p>
<p >This can be an estimate, but should get more accurate the higher the limited passed to execute_query is. To do that, the engine can use (actual result returned count + count of unchecked documents), or (total possible docs - docs that have been checked and rejected).</p>
<p >Engine can limit to <a class="el" href="../../d8/df9/classcore__search_1_1manager.html#ae06b04886dae528dff0b50879480a700" title="Maximum number of results that will be retrieved from the search engine.">manager::MAX_RESULTS</a> if there is cost to determining more. If this cannot be computed in a reasonable way, <a class="el" href="../../d8/df9/classcore__search_1_1manager.html#ae06b04886dae528dff0b50879480a700" title="Maximum number of results that will be retrieved from the search engine.">manager::MAX_RESULTS</a> may be returned.</p>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">int</td><td></td></tr>
  </table>
  </dd>
</dl>

<p>Reimplemented from <a class="el" href="../../d0/d66/classcore__search_1_1engine.html#ac47247dd80bec3472c820d8887b77c40">core_search\engine</a>.</p>

</div>
</div>
<a id="a7b20aaac3fe7ada624089e933b383d23" name="a7b20aaac3fe7ada624089e933b383d23"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7b20aaac3fe7ada624089e933b383d23">&#9670;&nbsp;</a></span>get_search_area()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">mock_search\engine::get_search_area </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$areaid</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns a search instance of the specified area checking internal caching. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">string</td><td class="paramname">$areaid</td><td>Area id </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname"><a class="el" href="../../d4/dd1/classcore__search_1_1base.html" title="Base search implementation.">core_search::base</a></td><td></td></tr>
  </table>
  </dd>
</dl>

<p>Reimplemented from <a class="el" href="../../d0/d66/classcore__search_1_1engine.html#a516c8cab72324476170ec6274eca2b99">core_search\engine</a>.</p>

</div>
</div>
<a id="a2e70e3bed784dfee17400bd293f8ba85" name="a2e70e3bed784dfee17400bd293f8ba85"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2e70e3bed784dfee17400bd293f8ba85">&#9670;&nbsp;</a></span>get_supported_orders()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">core_search\engine::get_supported_orders </td>
          <td>(</td>
          <td class="paramtype">\<a class="el" href="../../da/d04/classcontext.html">context</a>&#160;</td>
          <td class="paramname"><em>$context</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Obtain a list of results orders (and names for them) that are supported by this search engine in the given context. </p>
<p >By default, engines sort by relevance only.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">context</td><td class="paramname">$context</td><td>Context that the user requested search from </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">array</td><td>Array from order name =&gt; display text </td></tr>
  </table>
  </dd>
</dl>

<p>Reimplemented in <a class="el" href="../../d9/d9f/classsearch__solr_1_1engine.html#aef0779367fc84782c36ea69bf0c53188">search_solr\engine</a>.</p>

</div>
</div>
<a id="a2d9f7c412fbde2b64845db4d59049758" name="a2d9f7c412fbde2b64845db4d59049758"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2d9f7c412fbde2b64845db4d59049758">&#9670;&nbsp;</a></span>get_user()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">core_search\engine::get_user </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$userid</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Returns user data checking the internal static cache. </p>
<p >Including here the minimum required user information as this may grow big.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">int</td><td class="paramname">$userid</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">stdClass</td><td></td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a14d9d6f4f08c9ce30afd39f5e31cc19b" name="a14d9d6f4f08c9ce30afd39f5e31cc19b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a14d9d6f4f08c9ce30afd39f5e31cc19b">&#9670;&nbsp;</a></span>has_alternate_configuration()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">core_search\engine::has_alternate_configuration </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Checks if the search engine has an alternate configuration. </p>
<p >This is used where the same search engine class supports two different configurations, which are both shown on the settings screen. The alternate configuration is selected by passing 'true' parameter to the constructor.</p>
<p >The feature is used when a different connection is in use for indexing vs. querying the search engine.</p>
<p >This function should only return true if the engine supports an alternate configuration and the user has filled in the settings. (We do not need to test they are valid, that will happen as normal.)</p>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">bool</td><td>True if an alternate configuration is defined </td></tr>
  </table>
  </dd>
</dl>

<p>Reimplemented in <a class="el" href="../../d9/d9f/classsearch__solr_1_1engine.html#a2c8610cd246bb29db622ddb930cd7de9">search_solr\engine</a>.</p>

</div>
</div>
<a id="aff048de31fb192865e6609f65493c214" name="aff048de31fb192865e6609f65493c214"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aff048de31fb192865e6609f65493c214">&#9670;&nbsp;</a></span>index_complete()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">core_search\engine::index_complete </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$numdocs</em> = <code>0</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$fullindex</em> = <code>false</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Run any post indexing operations. </p>
<p >Should be overwritten if the search engine needs to do any post index cleanup.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">int</td><td class="paramname">$numdocs</td><td>The number of documents that were added to the index </td></tr>
    <tr><td class="paramtype">bool</td><td class="paramname">$fullindex</td><td>True if a full index was performed </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">void</td><td></td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a9d90b2511e1fa69b4cb7ed20a833c3d8" name="a9d90b2511e1fa69b4cb7ed20a833c3d8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9d90b2511e1fa69b4cb7ed20a833c3d8">&#9670;&nbsp;</a></span>index_starting()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">core_search\engine::index_starting </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$fullindex</em> = <code>false</code></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Run any pre-indexing operations. </p>
<p >Should be overwritten if the search engine needs to do any pre index preparation.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">bool</td><td class="paramname">$fullindex</td><td>True if a full index will be performed </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">void</td><td></td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a72fc1dccdc33a758ba06dd2af58dcf90" name="a72fc1dccdc33a758ba06dd2af58dcf90"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a72fc1dccdc33a758ba06dd2af58dcf90">&#9670;&nbsp;</a></span>is_installed()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">mock_search\engine::is_installed </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Does the system satisfy all the requirements. </p>
<p >Should be overwritten if the search engine has any system dependencies that needs to be checked.</p>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">bool</td><td></td></tr>
  </table>
  </dd>
</dl>

<p>Reimplemented from <a class="el" href="../../d0/d66/classcore__search_1_1engine.html#afe026f1679e656208d6a2842cb802e20">core_search\engine</a>.</p>

</div>
</div>
<a id="a36f8709e230d2ec7417f4658fef999c7" name="a36f8709e230d2ec7417f4658fef999c7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a36f8709e230d2ec7417f4658fef999c7">&#9670;&nbsp;</a></span>is_server_ready()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">mock_search\engine::is_server_ready </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Is the server ready to use? </p>
<p >This should also check that the search engine configuration is ok.</p>
<p >If the function $this-&gt;<a class="el" href="../../d0/d66/classcore__search_1_1engine.html#a3d7e47c8581d7b3acd802cb8336e679e" title="For use by subclasses.">should_skip_schema_check()</a> returns true, then this function may leave out time-consuming checks that the schema is valid. (This allows for improved performance on critical pages such as the main search form.)</p>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">true|string</td><td>Returns true if all good or an error string. </td></tr>
  </table>
  </dd>
</dl>

<p>Reimplemented from <a class="el" href="../../d0/d66/classcore__search_1_1engine.html#a6e1d119c0b55f696a5cb9091e3a7b8d2">core_search\engine</a>.</p>

</div>
</div>
<a id="ad35d1ce15ed20d37cb761a18b279f5f1" name="ad35d1ce15ed20d37cb761a18b279f5f1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad35d1ce15ed20d37cb761a18b279f5f1">&#9670;&nbsp;</a></span>optimize()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">core_search\engine::optimize </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Optimizes the search engine. </p>
<p >Should be overwritten if the search engine can optimize its contents.</p>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">void</td><td></td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="abfe1f56b0ab42852fe5916a15b78cdff" name="abfe1f56b0ab42852fe5916a15b78cdff"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abfe1f56b0ab42852fe5916a15b78cdff">&#9670;&nbsp;</a></span>record_applied_schema_version()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">core_search\engine::record_applied_schema_version </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$version</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Usually called by the engine; marks that the schema has been updated. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">int</td><td class="paramname">$version</td><td>Records the schema version now applied </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a2c96aad8367e2c2fd877634ce1c0bd66" name="a2c96aad8367e2c2fd877634ce1c0bd66"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2c96aad8367e2c2fd877634ce1c0bd66">&#9670;&nbsp;</a></span>set_add_delay()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">mock_search\engine::set_add_delay </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$seconds</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Sets an add delay to simulate time taken indexing. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">float</td><td class="paramname">$seconds</td><td>Delay in seconds for each document </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a3d7e47c8581d7b3acd802cb8336e679e" name="a3d7e47c8581d7b3acd802cb8336e679e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3d7e47c8581d7b3acd802cb8336e679e">&#9670;&nbsp;</a></span>should_skip_schema_check()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">core_search\engine::should_skip_schema_check </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>For use by subclasses. </p>
<p >The engine can call this inside is_server_ready to check whether it should skip time-consuming schema checks.</p>
<dl class="section since"><dt>Since</dt><dd><a class="el" href="../../d7/d79/namespace_moodle.html" title="&#160;">Moodle</a> 3.5 </dd></dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">bool</td><td>True if schema checks should be skipped </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a07744a383f58ece1317bb140954f03a6" name="a07744a383f58ece1317bb140954f03a6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a07744a383f58ece1317bb140954f03a6">&#9670;&nbsp;</a></span>skip_schema_check()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">core_search\engine::skip_schema_check </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$skip</em> = <code>true</code></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Tells the search engine to skip any time-consuming checks that it might do as part of the is_server_ready function, and only carry out a basic check that it can contact the server. </p>
<p >This setting is not remembered and applies only to the current request.</p>
<dl class="section since"><dt>Since</dt><dd><a class="el" href="../../d7/d79/namespace_moodle.html" title="&#160;">Moodle</a> 3.5 </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">bool</td><td class="paramname">$skip</td><td>True to skip the checks, false to start checking again </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ae7eb7d21cb9242750ca91b8e04d66cca" name="ae7eb7d21cb9242750ca91b8e04d66cca"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae7eb7d21cb9242750ca91b8e04d66cca">&#9670;&nbsp;</a></span>supports_add_document_batch()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">core_search\engine::supports_add_document_batch </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Checks if the search engine supports adding documents in a batch. </p>
<p >If it returns true to this function, the search engine must implement the add_document_batch function.</p>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">bool</td><td>True if the search engine supports adding documents in a batch </td></tr>
  </table>
  </dd>
</dl>

<p>Reimplemented in <a class="el" href="../../d9/d9f/classsearch__solr_1_1engine.html#a4f1a310260f1ede742618134d2d61da0">search_solr\engine</a>.</p>

</div>
</div>
<a id="adfcac166f5550dff691c721415d83816" name="adfcac166f5550dff691c721415d83816"></a>
<h2 class="memtitle"><span class="permalink"><a href="#adfcac166f5550dff691c721415d83816">&#9670;&nbsp;</a></span>supports_group_filtering()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">core_search\engine::supports_group_filtering </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Checks if this search engine supports groups. </p>
<p >Note that returning true to this function causes the parameters to execute_query to be passed differently!</p>
<p >In order to implement groups and return true to this function, the search engine should:</p>
<ol type="1">
<li>Handle the fields -&gt;separategroupscontexts and -&gt;usergroups in the $accessinfo parameter to execute_query (ideally, using these to automatically restrict search results).</li>
<li>Support the optional groupids parameter in the $filter parameter for execute_query to restrict results to only those where the stored groupid matches the given value.</li>
</ol>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">bool</td><td>True if this engine supports searching by group id field </td></tr>
  </table>
  </dd>
</dl>

<p>Reimplemented in <a class="el" href="../../d9/d9f/classsearch__solr_1_1engine.html#a88091f39bdee636ff709b343617071f4">search_solr\engine</a>.</p>

</div>
</div>
<a id="afbc7b72413ebe511fdc2463aa99b57de" name="afbc7b72413ebe511fdc2463aa99b57de"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afbc7b72413ebe511fdc2463aa99b57de">&#9670;&nbsp;</a></span>supports_users()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">core_search\engine::supports_users </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Checks if the search engine supports searching by user. </p>
<p >If it returns true to this function, the search engine should support the 'userids' option in the $filters value passed to <a class="el" href="../../de/db2/classmock__search_1_1engine.html#a4aa1a926bb03d540f844f15e1bef9705" title="Executes the query on the engine.">execute_query()</a>, returning only items where the userid in the search document matches one of those user ids.</p>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">bool</td><td>True if the search engine supports searching by user </td></tr>
  </table>
  </dd>
</dl>

<p>Reimplemented in <a class="el" href="../../d9/d9f/classsearch__solr_1_1engine.html#ada534d6db690e2764886b7c13ee64cd0">search_solr\engine</a>.</p>

</div>
</div>
<a id="ad3241b8695ba90ee12900369e9a4c6a1" name="ad3241b8695ba90ee12900369e9a4c6a1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad3241b8695ba90ee12900369e9a4c6a1">&#9670;&nbsp;</a></span>to_document()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">core_search\engine::to_document </td>
          <td>(</td>
          <td class="paramtype">\<a class="el" href="../../d4/dd1/classcore__search_1_1base.html">core_search\base</a>&#160;</td>
          <td class="paramname"><em>$searcharea</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$docdata</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Returns a document instance prepared to be rendered. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype"><a class="el" href="../../d4/dd1/classcore__search_1_1base.html" title="Base search implementation.">core_search::base</a></td><td class="paramname">$searcharea</td><td></td></tr>
    <tr><td class="paramtype">array</td><td class="paramname">$docdata</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname"><a class="el" href="../../d3/d5d/classcore__search_1_1document.html" title="Represents a document to index.">core_search::document</a></td><td></td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a217d01c4e384dd4be1bffb7c8010d4ff" name="a217d01c4e384dd4be1bffb7c8010d4ff"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a217d01c4e384dd4be1bffb7c8010d4ff">&#9670;&nbsp;</a></span>update_schema()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">mock_search\engine::update_schema </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$oldversion</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$newversion</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Requests the search engine to upgrade the schema. </p>
<p >The engine should update the schema if possible/necessary, and should ensure that record_applied_schema_version is called as a result.</p>
<p >If it is not possible to upgrade the schema at the moment, it can do nothing and return; the function will be called again next time search is initialised.</p>
<p >The default implementation just returns, with a DEBUG_DEVELOPER warning.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">int</td><td class="paramname">$oldversion</td><td>Old schema version </td></tr>
    <tr><td class="paramtype">int</td><td class="paramname">$newversion</td><td>New schema version </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">bool|string</td><td>True if schema is updated successfully, a string if it needs updating manually </td></tr>
  </table>
  </dd>
</dl>

<p>Reimplemented from <a class="el" href="../../d0/d66/classcore__search_1_1engine.html#ab4feaed0a38c119d739d35589ddda2a6">core_search\engine</a>.</p>

</div>
</div>
<h2 class="groupheader">Member Data Documentation</h2>
<a id="ab71dd596ba238da41beb9468c9167187" name="ab71dd596ba238da41beb9468c9167187"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab71dd596ba238da41beb9468c9167187">&#9670;&nbsp;</a></span>$cachedusers</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">stdClass [] core_search\engine::$cachedusers = array()</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span><span class="mlabel">protected</span><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>User data required to show their fullnames. </p>
<p >Indexed by userid. </p>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>search/tests/fixtures/mock_search_engine.php</li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Thu Mar 24 2022 07:27:21 for Moodle PHP Documentation by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="../../doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.3
</small></address>
</body>
</html>
